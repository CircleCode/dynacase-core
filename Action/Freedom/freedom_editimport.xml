<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[TEXT:Import documents]</title>
    [CSS:CUSTOMREF]
<body>
    <div class="document">
        <!-- Title Table -->
        <form   id="mainform"
            name="modifydoc"
            class="mainform"
            method="POST"
            ENCTYPE="multipart/form-data"
            action="[CORE_STANDURL]&amp;app=[APPNAME]">

            <h1>[TEXT:Import Documents]</h1>

            <input type="hidden" name="dirid" value="[dirid]">
            <input type="hidden" id="analyze" name="analyze" value="N">
            <input type="hidden" id="action" name="action" value="FREEDOM_IMPORT">

            <fieldset class="frame">
                <legend>[TEXT:Import file (CSV, ODS, XML)] :</legend>

                <input type="file" name="file" id="ifile" class="file"
                   accept="text/csv,application/xml,application/vnd.oasis.opendocument.spreadsheet"
                   title="[TEXT:csv, ods, xml, zip (xml) supported import files]"
                   onchange="document.getElementById('bgimport').disabled=true;document.getElementById('fgimport').disabled=true;"
                   onblur="document.getElementById('bgimport').disabled=true;document.getElementById('fgimport').disabled=true;">
                <br/>
                <input id="banalyze" type="button" style="font-weight:bold" value="[TEXT:Send Analyze]" disabled="disabled"/>
                <br/>
                <input id="fgimport" type="button" value="[TEXT:Import after analyze done]" disabled="disabled"/>
            </fieldset>

            <fieldset id="fbgimport" class="frame">
                <legend class="legend">[TEXT:Background Import]</legend>
                <div class="content" style="display : none;">
                    <label for="to">[TEXT:Send report to] :</label>
                    <input size="30" id="to" name="to" type="email" placeholder="[TEXT:Mail address]" value="[mailaddr]"/>
                    <br/>
                    <input id="bgimport" type="submit" disabled
                       onmousedown="$('#action').val('FREEDOM_BGIMPORT')"
                       value="[TEXT:Import after analyze done]"></fieldset>
                </div>
            <fieldset class="frame">
                <legend class="legend">[TEXT:Options for csv import]</legend>
                <div id="csvOption" class="content" style="display : none;">
                    <table class="inner">
                        <tr>
                            <td>[TEXT:EXPORT_CSV Delimiter :]</td>
                            <td>
                                <input name="separator" value="[separator]" style="width : 3em;"/>
                            </td>
                        </tr>
                        <tr>
                            <td>[TEXT:EXPORT_CSV Enclosure :]</td>
                            <td>
                                <input name="enclosure" value='[enclosure]' style="width : 3em;"/>
                            </td>
                        </tr>
                        <tr>
                            <td>[TEXT:EXPORT_CSV Linebreak :]</td>
                            <td>
                                <input name="linebreak" value='[linebreak]' style="width : 3em;"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </fieldset>
            [IF policy]
            <fieldset class="frame">
                <legend class="legend">[TEXT:Policy if same title]</legend>
                <div id="options" class="content" style="display : none;">
                    <div class="inner radio">
                        <p class="policyLabel">[TEXT:For each imported document, if a document with same title is found, then]</p>
                        <input id="pupdate" name="policy" checked="checked" type="radio" value="update" />
                        <label for="pupdate">[TEXT:Update document if has permission else ignored]</label>
                        <br/>
                        <input id="padd" name="policy" type="radio" value="add"/>
                        <label for="padd">[TEXT:Add new document (similar document)]</label>
                        <br/>
                        <input id="pkeep" name="policy" type="radio" value="keep"/>
                        <label for="pkeep">[TEXT:Keep original document]</label>
                    </div>

                </div>
            </fieldset>
            [ENDIF policy]
        </form>
        [IF descr]
        <fieldset class="frame">
            <legend class="legend">[TEXT:Additionnals informations about import document]</legend>
            <div class="content" style="display : none;">
                <div class="inner">
                    [TEXT:Family] :
                    <select name="classid" id="classid">
                        <option VALUE="0">[TEXT:Select a family]</option>
                        [BLOCK SELECTCLASS]
                        <option VALUE="[idcdoc]"[selected]>[classname]</option>
                        [ENDBLOCK SELECTCLASS]
                    </select>
                    <hr width="50%"/>
                    <p>
                        [TEXT:Use another import interface for a specific family]&nbsp;:
                    </p>
                    <input disabled="disabled" type="button" value="[TEXT:Specific import in csv format]" onclick="editimport()">
                    <p>
                        [TEXT:Get XML schema to compose XML document import file]&nbsp;:
                    </p>
                    <input disabled="disabled" type="button" title="[TEXT:View Xml Schema]" value="[TEXT:Get Xml schema]"
                   onclick='window.open("[CORE_STANDURL]&app=FDL&action=FDL_FAMILYSCHEMA&id="+$("#classid").val(),"_blank")'></div>
            </div>
        </fieldset>
        [ENDIF descr]
    </div>
    [JS:REF]
</body>
</html>