[ZONE FDL:HTMLHEAD?title=[TEXT:Permissions]:[stitle]]
<script>
function enablefrom(th) {
  var checkboxes = th.getElementsByTagName("input");
 
  for (var i=0; i < checkboxes.length; i++)  {
    checkboxes[i].disabled=false;
    checkboxes[i].style.display='inline';
  }

  // undisplay button images
  var imgs = th.getElementsByTagName("img");

  for (var i=0; i < imgs.length; i++)  {
    imgs[i].style.display='none';
  }

    document.getElementById('iCancel').disabled=false;
    document.getElementById('iSubmit').disabled=false;
}

</script>
<style>
TABLE.hborder td {
  border-style: none none solid none;
  border-color:[COLOR_B0];
  border-width:1px;
}
TABLE.hborder td.left {
  background-color:[COLOR_A9];
}
TABLE.hborder TBODY td.even {
  background-color:[COLOR_A8];
}
TABLE.hborder TBODY td.odd {
  background-color:[COLOR_A9];
}
TABLE.hborder THEAD td.even {
  background-color:[COLOR_B8];
  overflow:ellipsis;
}
TABLE.hborder THEAD td.odd {
  background-color:[COLOR_B9];
  overflow:ellipsis;
}
TABLE.hborder td.odd,  TABLE.hborder td.even {
  width:[cellwidth];
}
TABLE.hborder td.headaccess {
  background-color:[COLOR_B7];
  /*font-weight: bold;*/
  min-width:100px;
}
span.computed {
  padding-left:30px;
}
span[accountType="G"] {
    padding-left:15px;
	background-repeat: no-repeat;
    background-image: url('[IMG:bblue.png|10]');
    background-position:left center;
}
span[accountType="U"] {
    padding-left:15px;
	background-repeat: no-repeat;
    background-image: url('[IMG:bgreen.png|10]');
    background-position:left center;
}
span[accountType="R"] {
    padding-left:15px;
	background-repeat: no-repeat;
    background-image: url('[IMG:bpink.png|10]');
    background-position:left center;
}
span[accountType="D"] {
    padding-left:15px;
	background-repeat: no-repeat;
    background-image: url('[IMG:byellow.png|10]');
    background-position:left center;
}
span[accountType="M"] {
    padding-left:15px;
	background-repeat: no-repeat;
    background-image: url('[IMG:borange.png|10]');
    background-position:left center;
}
table.acls {
    margin-bottom:2px ;
       width:100%;
}
table.headacl {
  position:fixed;
  /*height:40px;*/
}
table.bodyacl {
  /*padding-top:40px;*/
    margin:top:10px;
}
table.bodyacl thead {
   visibility:hidden;
}
form {
  display:inline;
}
#fView {
  float:right;
}
#idtbody tr:hover td {
  border-color:[COLOR_A0]!important;
}
</style>
        <script>
        function openGroupAcl(gid) {
          subwindow([FDL_VD2SIZE],[FDL_HD2SIZE],'gaccess','[CORE_STANDURL]app=FREEDOM&action=FREEDOM_GACCESS&id=[docid]&gid='+gid);
        }
        function openDetailAcl(gid) {
          subwindow([FDL_VD2SIZE],[FDL_HD2SIZE],'daccess','[CORE_STANDURL]app=FREEDOM&action=FREEDOM_ACCESS&id=[docid]&userid='+gid);
        }
        function disableAccess(submit) {
          submit.disabled=true;
          submit.value="[TEXT:Update Access in progress]";
          document.getElementById('iCancel').style.display='none';
          document.getElementById('fView').style.display='none';
          globalcursor('wait');
          setTimeout(function () {
              alert("[updateWaitText]\n[TEXT:You can close window now or waiting the end of processing]");
            },5000);
        }
        </script>
<table class="hborder acls headacl"  cellspacing="0" cellpadding="0">
    <thead>
    <tr>
    <td colspan="2" class="headaccess"><strong>[toOrigin]</strong>[IF dynamic].<br/><span class="computed">[ComputedFrom] <a target="access[dprofid]"
        href="?app=FREEDOM&action=FREEDOM_GACCESS&id=[dprofid]">[toDynProfil]</a>[ENDIF dynamic]</span></td>
     [BLOCK DACLS]<td class="[oddoreven]" align="center" valign="top" title="[acldesc]" style="cursor:help">[aclname]</td>
     [ENDBLOCK DACLS]
    </tr>
    </thead>
</table>
<form  name="edit" method="POST" action="[CORE_STANDURL]app=FREEDOM&action=FREEDOM_MODACCESS">


<table class="hborder acls bodyacl" cellspacing="0" cellpadding="0" >
    <thead>
    <tr>
    <td colspan="2" class="headaccess"><strong>[toOrigin]</strong>[IF dynamic].<br/><span class="computed">[ComputedFrom] <a target="access[dprofid]"
        href="?app=FREEDOM&action=FREEDOM_GACCESS&id=[dprofid]">[toDynProfil]</a>[ENDIF dynamic]</span></td>
     [BLOCK DACLS]<td class="[oddoreven]" align="center" valign="top" title="[acldesc]" style="cursor:help">[aclname]</td>
     [ENDBLOCK DACLS]
    </tr>
    </thead>
<tbody id="idtbody" >
   [BLOCK GROUPS]
<tr>
    <td   align="left" class="left" >
    <span style="margin:0px 0px 0px [level]px" accountType="[accountType]">
        <a style="display:[displaygroup];cursor:pointer"  onclick="openGroupAcl('[gid]')" title="[TEXT:See members detail]">&rArr;</a>
      [IFNOT isdyn]<A   onclick="openDetailAcl('[gid]')" title="[TEXT:See detail for ][gname]">[gname]</A>[ENDIF isdyn][IF isdyn][gname][ENDIF isdyn]</span>
    <input id="acls_[gid]_nc" type="hidden" disabled name="acls[[gid]][500]" value="nc"></td>

   <td align="right"  class="left"  >
     <button style="display:[dmodify]" onclick="enablefrom(this.parentNode.parentNode);"  type="button" >&there4;</button></td>
    [BLOCK [ACLS]]
    <td  align="center" class="[oddoreven]">
      <img  src="[IMG:[bimg]]" width="10px" height="10px"  >
      <input id="acls_[gid]_[iacl]" align="top" style="display:none" disabled type="checkbox" name="acls[[gid]][[iacl]]" value="[aclid]" [selected] >
  </td>
    [ENDBLOCK [ACLS]]
    
  
</tr>
  [ENDBLOCK GROUPS]
</tbody>
</TABLE>
[IF MODIFY]
<p>[profcount]</p><input id="iSubmit" disabled="disabled" class="CORETblHead" type="submit" onclick="disableAccess(this)" name="Modify" value="[TEXT:Update access]"  >
        <input id="iCancel"  disabled="disabled" class="CORETblHead" type="button" onclick="document.location.reload()" title="[TEXT:Reload page]" value="[TEXT:Cancel]" >
        [ENDIF MODIFY]
<input type="hidden" name="docid" value="[docid]">
<input type="hidden" name="allgreen" value="[allgreen]">
  <input type="hidden" name="group" value="[group]">
</form>
<form id="fView"  name="view" method="POST" action="[CORE_STANDURL]app=FREEDOM&action=FREEDOM_GACCESS">
  <input type="hidden" name="id" value="[docid]">
  <input type="hidden" name="allgreen" value="[allgreen]">
  <input type="hidden" name="group" value="[group]">

[IFNOT isgreen]
        <input class="CORETblHead" type="button"
                 name="Modify"  onclick="document.view.allgreen.value='Y';document.view.submit()" title="[TEXT:View only access set. Green flag]" value="[TEXT:All set only]"  >[ENDIF isgreen]
[IF isgreen]
        <input class="CORETblHead" type="button"
                 name="Modify" onclick="document.view.allgreen.value='N';document.view.submit()" value="[TEXT:Normal view]"  >[ENDIF isgreen]
[IFNOT hasgid][IFNOT isgreen]
            [IFNOT viewgroup]
        <input class="CORETblHead" type="button"
                 name="Modify"  onclick="document.view.group.value='Y';document.view.submit()" title="[TEXT:View group access]" value="[TEXT:View group access]"  >[ENDIF viewgroup]
[IF viewgroup]
        <input class="CORETblHead" type="button"
                 name="Modify" onclick="document.view.group.value='N';document.view.submit()" value="[TEXT:Hide group access]"  >[ENDIF viewgroup]
            [ENDIF isgreen][ENDIF hasgid]


[ZONE CORE:HTMLFOOT]
